# ✅ 배포 최종 체크리스트

## 🎯 배포 준비 완료!

모든 설정이 완료되었습니다. 다음 단계를 따라 배포하세요.

---

## 📝 1단계: Git 커밋 및 푸시

**PowerShell에서 실행:**

```powershell
# 프로젝트 디렉토리로 이동
cd C:\Users\j\시티반점앱

# 변경사항 확인
git status

# 모든 변경사항 추가
git add .

# 커밋
git commit -m "모든 기능 구현 완료 및 배포 준비"

# 푸시 (GitHub에 업로드)
git push origin main
```

---

## 🚀 2단계: Railway 배포 확인

### 자동 배포 (GitHub 연동 시)
1. Railway 대시보드 접속: https://railway.app
2. 프로젝트 선택
3. **Deployments** 탭 확인
4. 최신 커밋이 자동으로 배포되는지 확인

### 수동 배포 (필요 시)
1. Railway CLI 설치: `npm i -g @railway/cli`
2. 로그인: `railway login`
3. 프로젝트 연결: `railway link`
4. 배포: `railway up`

---

## ⚙️ 3단계: 환경 변수 설정

**Railway Variables 탭에서 추가:**

### 필수 환경 변수
```
DATABASE_URL=postgresql://... (Railway가 자동 생성)
```

### 선택 환경 변수

**카카오 알림톡 (테스트 모드):**
```
KAKAO_TEST_MODE=true
```

**카카오 알림톡 (실제 사용 시):**
```
KAKAO_ALIMTALK_API_KEY=your_api_key
KAKAO_ALIMTALK_SECRET=your_secret
KAKAO_PLUS_FRIEND_ID=@시티반점
KAKAO_TEMPLATE_CODE_ORDER=템플릿코드1
KAKAO_TEMPLATE_CODE_DELIVERY=템플릿코드2
KAKAO_TEMPLATE_CODE_COMPLETE=템플릿코드3
```

**프린터 서버 (로컬 PC):**
```
PRINTER_SERVER_URL=http://your-local-ip:3001
```

**PG 결제 (I'mport):**
```
IMP_KEY=your_imp_key
IMP_SECRET=your_imp_secret
```

---

## ✅ 4단계: 배포 확인

### 서버 실행 확인
1. Railway **Logs** 탭 확인
2. "✅ 서버 실행 중" 메시지 확인
3. 에러가 없으면 성공!

### URL 확인
1. Railway **Settings** → **Domains** 확인
2. 제공된 URL로 접속 테스트
3. 예: `https://your-app.railway.app/order-new`

### 기능 테스트
- [ ] 주문 페이지 접속
- [ ] 회원가입/로그인
- [ ] 메뉴 조회
- [ ] 주문 생성
- [ ] POS 접속

---

## 📊 배포 설정 파일 확인

✅ `railway.json` - Railway 배포 설정 (server.js 사용)
✅ `Procfile` - 시작 명령어 (server.js 사용)
✅ `backend/package.json` - Node.js 설정 (server.js 사용)
✅ `backend/server.js` - 메인 서버 파일

---

## 🎉 배포 완료!

배포가 성공하면 Railway에서 제공하는 URL로 서비스를 사용할 수 있습니다!

**주요 URL:**
- 주문 페이지: `https://your-app.railway.app/order-new`
- POS 시스템: `https://your-app.railway.app/pos`
- 배달 현황: `https://your-app.railway.app/track`

---

## 🆘 문제 해결

### 배포 실패 시
1. Railway Logs 확인
2. 환경 변수 확인
3. Node.js 버전 확인 (18.x 이상)
4. `package.json` 의존성 확인

### 데이터베이스 오류
- `DATABASE_URL` 환경 변수 확인
- Railway PostgreSQL 서비스 확인

### 포트 오류
- Railway가 자동으로 PORT 할당
- `process.env.PORT` 사용 확인

---

## 💡 다음 단계

1. **카카오 알림톡 설정** (선택)
   - 템플릿 승인 후 환경 변수 설정

2. **프린터 서버 설정** (로컬 PC)
   - `프린터서버-시작.bat` 실행
   - Cloudflare Tunnel 설정

3. **PG 결제 설정** (I'mport)
   - I'mport 가입 및 키 발급
   - 환경 변수 설정

---

배포 성공을 기원합니다! 🚀

