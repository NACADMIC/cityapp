# 🚀 시티반점 즉시 출시 체크리스트

## ✅ 출시 전 확인사항

### 1. 코드 상태
- [x] 쿠폰 기능 수정 완료
- [x] 모든 기능 구현 완료
- [x] 오류 수정 완료

### 2. 배포 설정
- [x] `railway.json` 설정 확인
- [x] `Procfile` 설정 확인
- [x] `package.json` 의존성 확인

### 3. 환경 변수 설정 (Railway에서 설정 필요)

#### 필수 환경 변수
```
NODE_ENV=production
PORT=3000
```

#### 데이터베이스 (PostgreSQL)
```
DATABASE_URL=postgresql://... (Railway에서 자동 생성)
```

#### 카카오 알림톡 (선택)
```
KAKAO_ALIMTALK_API_KEY=...
KAKAO_ALIMTALK_SECRET=...
KAKAO_PLUS_FRIEND_ID=...
KAKAO_TEMPLATE_CODE_ORDER=...
KAKAO_TEMPLATE_CODE_DELIVERY=...
KAKAO_TEMPLATE_CODE_COMPLETE=...
```

#### 프린터 서버 (로컬 PC에서 실행)
```
PRINTER_SERVER_URL=http://localhost:3001 (로컬 PC IP로 변경 필요)
```

---

## 🚀 출시 단계

### Step 1: Git 푸시
```bash
# 즉시-출시.bat 파일 실행
```

또는 수동으로:
```bash
git add .
git commit -m "쿠폰 기능 수정 및 출시 준비 완료"
git push origin main
```

### Step 2: Railway 배포 확인
1. Railway 대시보드 접속: https://railway.app
2. 프로젝트 선택
3. **Deployments** 탭 확인
4. 배포 상태가 "Success"가 될 때까지 대기 (약 2-3분)

### Step 3: 서비스 URL 확인
1. Railway 프로젝트 → **Settings** → **Domains**
2. 생성된 도메인 확인 (예: `xxx.railway.app`)
3. 또는 **Settings** → **Networking** → **Public Domain** 확인

### Step 4: 서비스 테스트
1. 주문 페이지 접속: `https://[도메인]/order-new/`
2. POS 페이지 접속: `https://[도메인]/pos/`
3. 기본 기능 테스트:
   - 회원가입/로그인
   - 메뉴 주문
   - 쿠폰 사용
   - 포인트 사용
   - 주문 확인

---

## 🖨️ 프린터 서버 설정 (로컬 PC)

### 1. 프린터 서버 실행
```bash
# 프린터서버-시작.bat 파일 실행
```

### 2. 프린터 서버 URL 설정
- Railway 환경 변수에 추가:
  ```
  PRINTER_SERVER_URL=http://[로컬PC공인IP]:3001
  ```
- 또는 Cloudflare Tunnel 사용 (권장)

### 3. Cloudflare Tunnel 설정 (선택)
1. Cloudflare Tunnel 설치
2. 로컬 프린터 서버를 터널로 노출
3. Railway 환경 변수에 터널 URL 설정

---

## 📱 베타 테스트 가이드

### 테스트 항목
1. **회원 기능**
   - 회원가입
   - 로그인
   - 포인트 적립/사용
   - 쿠폰 발급/사용

2. **주문 기능**
   - 메뉴 선택
   - 옵션 선택
   - 주문 생성
   - 결제 (테스트 모드)

3. **POS 기능**
   - 주문 접수
   - 주문 상태 변경
   - 메뉴 관리
   - 쿠폰 관리

4. **알림 기능**
   - 주문 접수 알림
   - 배달 출발 알림
   - 배달 완료 알림

---

## ⚠️ 주의사항

1. **결제 시스템**: 실제 결제 전에 테스트 모드로 확인
2. **데이터베이스**: Railway PostgreSQL 사용 (SQLite는 로컬 전용)
3. **프린터**: 로컬 PC에서 프린터 서버 실행 필요
4. **환경 변수**: Railway에서 모든 환경 변수 설정 확인

---

## 🆘 문제 해결

### 배포 실패 시
1. Railway 로그 확인
2. 환경 변수 확인
3. `package.json` 의존성 확인

### 서비스 접속 불가 시
1. Railway 배포 상태 확인
2. 도메인 설정 확인
3. 포트 설정 확인 (기본: 3000)

### 프린터 작동 안 함
1. 로컬 프린터 서버 실행 확인
2. `PRINTER_SERVER_URL` 환경 변수 확인
3. 네트워크 연결 확인

---

## 📞 지원

문제 발생 시:
1. Railway 로그 확인
2. 브라우저 콘솔 확인
3. 서버 로그 확인

---

**🎉 출시 성공을 기원합니다! 🎉**

