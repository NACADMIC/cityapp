# π” ν•λ£¨ λ³΄κ΄€ μ „λµ: ν•΄μ‹κ°’ + μ „ν™”λ²νΈλ§ λ³΄κ΄€

## π― μ μ•: ν•΄μ‹κ°’κ³Ό μ „ν™”λ²νΈλ§ ν•λ£¨ λ³΄κ΄€, μ΄λ¦„κ³Ό μ£Όμ†λ” μ¦‰μ‹ μ‚­μ 

---

## β… **λ” μ•μ „ν• μ•„μ΄λ””μ–΄μ…λ‹λ‹¤!**

### **1. κ°μΈμ •λ³΄ μµμ†ν™” + μ‹¤μ©μ„± κ· ν•**

#### **λ³΄κ΄€ ν•­λ©**
```javascript
β… ν•΄μ‹κ°’: μκµ¬ λ³΄κ΄€ (ν¬μΈνΈ κ΄€λ¦¬μ©)
β… μ „ν™”λ²νΈ: ν•λ£¨λ§ λ³΄κ΄€ (λ°°λ‹¬ ν™•μΈμ©)
β μ΄λ¦„: μ¦‰μ‹ μ‚­μ 
β μ£Όμ†: μ¦‰μ‹ μ‚­μ 

β†’ κ°μΈμ •λ³΄ μµμ†ν™” + μ‹¤μ©μ„± κ· ν•!
```

### **2. λ²•μ  μ±…μ„ μ™„ν™” ν¨κ³Ό**

#### **κ°μΈμ •λ³΄ μ μ¶ μ‹**
```javascript
β… μ μ¶ κ°€λ¥ μ •λ³΄: ν•΄μ‹κ°’ + μ „ν™”λ²νΈ (ν•λ£¨μΉλ§)
β… μ΄λ¦„: μ΄λ―Έ μ‚­μ λμ–΄ μ μ¶ λ¶κ°€λ¥
β… μ£Όμ†: μ΄λ―Έ μ‚­μ λμ–΄ μ μ¶ λ¶κ°€λ¥
β… μ „ν™”λ²νΈ: ν•λ£¨μΉλ§ μ μ¶ κ°€λ¥ (μµμ†ν™”)

β†’ κ°μΈμ •λ³΄ μ μ¶ μ±…μ„ λ€ν­ μ™„ν™”!
```

---

## π€ **κµ¬ν„ λ°©λ²•**

### **1. μ£Όλ¬Έ μ ‘μ μ‹**

#### **λ°μ΄ν„° κµ¬μ΅°**
```javascript
// μ£Όλ¬Έ μ ‘μ μ‹
const order = {
  // ν•΄μ‹κ°’ (μκµ¬ λ³΄κ΄€)
  anonymousId: generateAnonymousId(phone, timestamp),
  
  // μ „ν™”λ²νΈ (ν•λ£¨λ§ λ³΄κ΄€)
  phone: '01012345678',
  phoneExpiry: Date.now() + 24 * 60 * 60 * 1000, // 24μ‹κ°„ ν›„
  
  // μ΄λ¦„ (μ¦‰μ‹ μ‚­μ  - λ°°λ‹¬ μ‹μ—λ§ μ‚¬μ©)
  name: 'ν™κΈΈλ™', // λ°°λ‹¬ μ™„λ£ ν›„ μ¦‰μ‹ μ‚­μ 
  
  // μ£Όμ† (μ¦‰μ‹ μ‚­μ  - λ°°λ‹¬ μ‹μ—λ§ μ‚¬μ©)
  address: 'μ„μΈμ‹ κ°•λ‚¨κµ¬...', // λ°°λ‹¬ μ™„λ£ ν›„ μ¦‰μ‹ μ‚­μ 
  
  // μ£Όλ¬Έ μ •λ³΄
  items: [...],
  total: 25000,
  
  // ν¬μΈνΈ (ν•΄μ‹κ°’μΌλ΅ κ΄€λ¦¬)
  points: 0,
  
  // μ£Όλ¬Έ μƒνƒ
  status: 'preparing',
  createdAt: Date.now()
};

// μ €μ¥
saveOrder(order);
```

### **2. λ°°λ‹¬ μ™„λ£ μ‹**

#### **μ¦‰μ‹ μ‚­μ **
```javascript
// λ°°λ‹¬ μ™„λ£ μ‹
function completeDelivery(orderId) {
  const order = getOrder(orderId);
  
  // ν¬μΈνΈ μ λ¦½
  order.points += calculatePoints(order.total);
  
  // μ΄λ¦„ μ¦‰μ‹ μ‚­μ 
  delete order.name;
  
  // μ£Όμ† μ¦‰μ‹ μ‚­μ 
  delete order.address;
  
  // μ „ν™”λ²νΈλ” ν•λ£¨ λ³΄κ΄€ (λ°°λ‹¬ ν™•μΈμ©)
  // phoneExpiry μ‹κ°„μ΄ μ§€λ‚λ©΄ μλ™ μ‚­μ 
  
  // ν•΄μ‹κ°’μ€ μ μ§€ (ν¬μΈνΈ κ΄€λ¦¬μ©)
  saveOrder(order);
}
```

### **3. μλ™ μ‚­μ  μ‹μ¤ν…**

#### **μ¤μΌ€μ¤„λ¬λ΅ μλ™ μ‚­μ **
```javascript
// λ§¤ μ‹κ°„λ§λ‹¤ μ‹¤ν–‰
function cleanupExpiredData() {
  const now = Date.now();
  const orders = getAllOrders();
  
  orders.forEach(order => {
    // μ „ν™”λ²νΈ λ§λ£ μ‹κ°„ ν™•μΈ
    if (order.phoneExpiry && order.phoneExpiry < now) {
      // μ „ν™”λ²νΈ μ‚­μ 
      delete order.phone;
      delete order.phoneExpiry;
      
      // μ €μ¥
      saveOrder(order);
    }
  });
}

// 1μ‹κ°„λ§λ‹¤ μ‹¤ν–‰
setInterval(cleanupExpiredData, 60 * 60 * 1000);
```

---

## π’΅ **μ¥μ **

### **1. κ°μΈμ •λ³΄ μµμ†ν™”**

#### **μμ§‘ μµμ†ν™”**
```javascript
β… μ΄λ¦„: λ°°λ‹¬ μ‹μ—λ§ μ‚¬μ©, μ¦‰μ‹ μ‚­μ 
β… μ£Όμ†: λ°°λ‹¬ μ‹μ—λ§ μ‚¬μ©, μ¦‰μ‹ μ‚­μ 
β… μ „ν™”λ²νΈ: ν•λ£¨λ§ λ³΄κ΄€ (λ°°λ‹¬ ν™•μΈμ©)
β… ν•΄μ‹κ°’: κ°μΈμ •λ³΄ μ•„λ‹ (μµλ… ID)

β†’ κ°μΈμ •λ³΄ μµμ†ν™”!
```

#### **λ³΄κ΄€ μµμ†ν™”**
```javascript
β… μ΄λ¦„: μ¦‰μ‹ μ‚­μ 
β… μ£Όμ†: μ¦‰μ‹ μ‚­μ 
β… μ „ν™”λ²νΈ: ν•λ£¨λ§ λ³΄κ΄€
β… ν•΄μ‹κ°’: μκµ¬ λ³΄κ΄€ (κ°μΈμ •λ³΄ μ•„λ‹)

β†’ λ³΄κ΄€ μµμ†ν™”!
```

### **2. μ‹¤μ©μ„± ν™•λ³΄**

#### **λ°°λ‹¬ ν™•μΈ**
```javascript
β… μ „ν™”λ²νΈ ν•λ£¨ λ³΄κ΄€: λ°°λ‹¬ ν™•μΈ κ°€λ¥
β… λ¬Έμ  λ°μƒ μ‹ λ€μ‘: μ „ν™”λ²νΈλ΅ μ—°λ½ κ°€λ¥
β… μ£Όλ¬Έ μ·¨μ†/λ³€κ²½: μ „ν™”λ²νΈλ΅ ν™•μΈ κ°€λ¥

β†’ μ‹¤μ©μ„± ν™•λ³΄!
```

### **3. λ²•μ  μ±…μ„ μ™„ν™”**

#### **κ°μΈμ •λ³΄ μ μ¶ μ‹**
```javascript
β… μ μ¶ κ°€λ¥ μ •λ³΄: ν•΄μ‹κ°’ + μ „ν™”λ²νΈ (ν•λ£¨μΉλ§)
β… μ΄λ¦„: μ΄λ―Έ μ‚­μ λμ–΄ μ μ¶ λ¶κ°€λ¥
β… μ£Όμ†: μ΄λ―Έ μ‚­μ λμ–΄ μ μ¶ λ¶κ°€λ¥
β… μ „ν™”λ²νΈ: ν•λ£¨μΉλ§ μ μ¶ κ°€λ¥ (μµμ†ν™”)

β†’ κ°μΈμ •λ³΄ μ μ¶ μ±…μ„ λ€ν­ μ™„ν™”!
```

#### **κ³Όμ‹¤ μ—†μ μ…μ¦**
```javascript
β… κ°μΈμ •λ³΄ μµμ†ν™”: λ…ν™•ν• μ¦κ±°
β… λ³΄κ΄€ μµμ†ν™”: λ…ν™•ν• μ¦κ±° (ν•λ£¨λ§)
β… μ²λ¦¬ μµμ†ν™”: λ…ν™•ν• μ¦κ±°

β†’ κ³Όμ‹¤ μ—†μ μ…μ¦ μ©μ΄!
```

---

## β οΈ **λ‹¨μ  λ° ν•΄κ²° λ°©λ²•**

### **1. μ „ν™”λ²νΈ ν•λ£¨ λ³΄κ΄€**

#### **λ¬Έμ **
```javascript
β οΈ μ „ν™”λ²νΈ: ν•λ£¨ λ³΄κ΄€ μ‹ μ μ¶ μ„ν—
β οΈ ν•μ§€λ§ μ΄λ¦„, μ£Όμ†λ” μ¦‰μ‹ μ‚­μ λμ–΄ μ„ν— μµμ†ν™”
```

#### **ν•΄κ²° λ°©λ²•**
```javascript
β… μ „ν™”λ²νΈ μ•”νΈν™”: ν•λ£¨ λ³΄κ΄€ μ‹ μ•”νΈν™”
β… μλ™ μ‚­μ : 24μ‹κ°„ ν›„ μλ™ μ‚­μ 
β… μ ‘κ·Ό μ μ–΄: μ „ν™”λ²νΈ μ ‘κ·Ό μ ν•

β†’ μ„ν— μµμ†ν™”!
```

### **2. λ°°λ‹¬ ν™•μΈ λ¶νΈ**

#### **λ¬Έμ **
```javascript
β οΈ μ΄λ¦„ μ—†μ: λ°°λ‹¬ μ‹ ν™•μΈ μ–΄λ ¤μ›€
β οΈ ν•μ§€λ§ μ „ν™”λ²νΈλ΅ ν™•μΈ κ°€λ¥
```

#### **ν•΄κ²° λ°©λ²•**
```javascript
β… μ „ν™”λ²νΈλ΅ ν™•μΈ: λ°°λ‹¬ μ‹ μ „ν™”λ²νΈλ΅ ν™•μΈ
β… μ£Όλ¬Έ λ²νΈ: μ£Όλ¬Έ λ²νΈλ΅ ν™•μΈ
β… QR μ½”λ“: QR μ½”λ“λ΅ ν™•μΈ

β†’ ν™•μΈ κ°€λ¥!
```

---

## π― **κµ¬ν„ μμ‹**

### **1. μ£Όλ¬Έ μ ‘μ μ‹μ¤ν…**

#### **μ£Όλ¬Έ μ ‘μ μ‹**
```javascript
// μ£Όλ¬Έ μ ‘μ
function createOrder(orderData) {
  const order = {
    // ν•΄μ‹κ°’ μƒμ„± (μκµ¬ λ³΄κ΄€)
    anonymousId: generateAnonymousId(orderData.phone, Date.now()),
    
    // μ „ν™”λ²νΈ (ν•λ£¨λ§ λ³΄κ΄€)
    phone: orderData.phone,
    phoneExpiry: Date.now() + 24 * 60 * 60 * 1000, // 24μ‹κ°„ ν›„
    
    // μ΄λ¦„ (λ°°λ‹¬ μ™„λ£ ν›„ μ¦‰μ‹ μ‚­μ )
    name: orderData.name,
    
    // μ£Όμ† (λ°°λ‹¬ μ™„λ£ ν›„ μ¦‰μ‹ μ‚­μ )
    address: orderData.address,
    
    // μ£Όλ¬Έ μ •λ³΄
    items: orderData.items,
    total: orderData.total,
    
    // ν¬μΈνΈ
    points: 0,
    
    // μ£Όλ¬Έ μƒνƒ
    status: 'preparing',
    createdAt: Date.now()
  };
  
  // μ €μ¥
  saveOrder(order);
  
  return order;
}
```

### **2. λ°°λ‹¬ μ™„λ£ μ‹μ¤ν…**

#### **λ°°λ‹¬ μ™„λ£ μ‹**
```javascript
// λ°°λ‹¬ μ™„λ£
function completeDelivery(orderId) {
  const order = getOrder(orderId);
  
  // ν¬μΈνΈ μ λ¦½
  order.points += calculatePoints(order.total);
  
  // μ΄λ¦„ μ¦‰μ‹ μ‚­μ 
  delete order.name;
  
  // μ£Όμ† μ¦‰μ‹ μ‚­μ 
  delete order.address;
  
  // μ „ν™”λ²νΈλ” ν•λ£¨ λ³΄κ΄€ (λ°°λ‹¬ ν™•μΈμ©)
  // phoneExpiry μ‹κ°„μ΄ μ§€λ‚λ©΄ μλ™ μ‚­μ 
  
  // μƒνƒ μ—…λ°μ΄νΈ
  order.status = 'completed';
  order.completedAt = Date.now();
  
  // μ €μ¥
  saveOrder(order);
  
  return order;
}
```

### **3. μλ™ μ‚­μ  μ‹μ¤ν…**

#### **μ¤μΌ€μ¤„λ¬**
```javascript
// λ§¤ μ‹κ°„λ§λ‹¤ μ‹¤ν–‰
function cleanupExpiredData() {
  const now = Date.now();
  const orders = getAllOrders();
  
  let deletedCount = 0;
  
  orders.forEach(order => {
    // μ „ν™”λ²νΈ λ§λ£ μ‹κ°„ ν™•μΈ
    if (order.phoneExpiry && order.phoneExpiry < now) {
      // μ „ν™”λ²νΈ μ‚­μ 
      delete order.phone;
      delete order.phoneExpiry;
      
      // μ €μ¥
      saveOrder(order);
      
      deletedCount++;
    }
  });
  
  console.log(`Deleted ${deletedCount} expired phone numbers`);
}

// 1μ‹κ°„λ§λ‹¤ μ‹¤ν–‰
setInterval(cleanupExpiredData, 60 * 60 * 1000);

// μ„λ²„ μ‹μ‘ μ‹ μ¦‰μ‹ μ‹¤ν–‰
cleanupExpiredData();
```

### **4. μ „ν™”λ²νΈ μ•”νΈν™” (μ„ νƒμ )**

#### **ν•λ£¨ λ³΄κ΄€ μ‹ μ•”νΈν™”**
```javascript
const crypto = require('crypto');

// μ•”νΈν™” ν‚¤ (ν™κ²½ λ³€μλ΅ κ΄€λ¦¬)
const ENCRYPTION_KEY = process.env.ENCRYPTION_KEY;

// μ „ν™”λ²νΈ μ•”νΈν™”
function encryptPhone(phone) {
  const iv = crypto.randomBytes(16);
  const cipher = crypto.createCipheriv('aes-256-cbc', ENCRYPTION_KEY, iv);
  let encrypted = cipher.update(phone, 'utf8', 'hex');
  encrypted += cipher.final('hex');
  return iv.toString('hex') + ':' + encrypted;
}

// μ „ν™”λ²νΈ λ³µνΈν™”
function decryptPhone(encryptedPhone) {
  const parts = encryptedPhone.split(':');
  const iv = Buffer.from(parts[0], 'hex');
  const encrypted = parts[1];
  const decipher = crypto.createDecipheriv('aes-256-cbc', ENCRYPTION_KEY, iv);
  let decrypted = decipher.update(encrypted, 'hex', 'utf8');
  decrypted += decipher.final('utf8');
  return decrypted;
}

// μ£Όλ¬Έ μ ‘μ μ‹ μ•”νΈν™”
function createOrder(orderData) {
  const order = {
    anonymousId: generateAnonymousId(orderData.phone, Date.now()),
    
    // μ „ν™”λ²νΈ μ•”νΈν™”ν•μ—¬ μ €μ¥
    phone: encryptPhone(orderData.phone),
    phoneExpiry: Date.now() + 24 * 60 * 60 * 1000,
    
    // ... κΈ°νƒ€ μ •λ³΄
  };
  
  saveOrder(order);
  return order;
}

// μ „ν™”λ²νΈ μ΅°ν μ‹ λ³µνΈν™”
function getPhoneByOrderId(orderId) {
  const order = getOrder(orderId);
  
  if (order.phone && order.phoneExpiry > Date.now()) {
    return decryptPhone(order.phone);
  }
  
  return null;
}
```

---

## π’° **λΉ„μ© μ κ° ν¨κ³Ό**

### **1. λ³΄μ• λΉ„μ© μ κ°**

#### **κΈ°μ΅΄ λ°©μ‹**
```javascript
β… κ°μΈμ •λ³΄ μ•”νΈν™”: ν•„μ”
β… κ°μΈμ •λ³΄ λ³΄κ΄€: ν•„μ”
β… λ³΄μ• κ°μ‚¬: ν•„μ”
β… μ΄ λΉ„μ©: μ—° 50λ§ - 200λ§ μ›
```

#### **ν•λ£¨ λ³΄κ΄€ λ°©μ‹**
```javascript
β… κ°μΈμ •λ³΄ μµμ†ν™”: μ΄λ¦„, μ£Όμ† μ¦‰μ‹ μ‚­μ 
β… μ „ν™”λ²νΈ ν•λ£¨λ§ λ³΄κ΄€: λ³΄κ΄€ λΉ„μ© μµμ†ν™”
β… ν•΄μ‹κ°’: μ•”νΈν™” λ¶ν•„μ” (ν•΄μ‹κ°’ μμ²΄κ°€ μ•”νΈν™”λ¨)
β… μ΄ λΉ„μ©: μ—° 10λ§ - 50λ§ μ›

β†’ λΉ„μ© μ κ°!
```

### **2. λ²•μ  μ±…μ„ μ™„ν™”**

#### **κ°μΈμ •λ³΄ μ μ¶ μ‹**
```javascript
β… μ μ¶ κ°€λ¥ μ •λ³΄: ν•΄μ‹κ°’ + μ „ν™”λ²νΈ (ν•λ£¨μΉλ§)
β… μ΄λ¦„: μ΄λ―Έ μ‚­μ λμ–΄ μ μ¶ λ¶κ°€λ¥
β… μ£Όμ†: μ΄λ―Έ μ‚­μ λμ–΄ μ μ¶ λ¶κ°€λ¥
β… μ „ν™”λ²νΈ: ν•λ£¨μΉλ§ μ μ¶ κ°€λ¥ (μµμ†ν™”)

β†’ κ°μΈμ •λ³΄ μ μ¶ μ±…μ„ λ€ν­ μ™„ν™”!
```

---

## π― **μ‹¤μ  μ¶”μ²**

### **1. ν•λ£¨ λ³΄κ΄€ μ „λµ**

#### **κµ¬ν„ ν•­λ©**
```javascript
β… ν•΄μ‹κ°’: μκµ¬ λ³΄κ΄€ (ν¬μΈνΈ κ΄€λ¦¬μ©)
β… μ „ν™”λ²νΈ: ν•λ£¨λ§ λ³΄κ΄€ (λ°°λ‹¬ ν™•μΈμ©)
β… μ΄λ¦„: μ¦‰μ‹ μ‚­μ 
β… μ£Όμ†: μ¦‰μ‹ μ‚­μ 
β… μλ™ μ‚­μ : 24μ‹κ°„ ν›„ μλ™ μ‚­μ 
```

#### **λΉ„μ©**
- **κµ¬ν„ μ‹κ°„**: 1-2μΌ
- **AI λ„κµ¬λ΅ κ°€λ¥**: λ„¤
- **μ¶”κ°€ λΉ„μ©**: μ—†μ

### **2. μ„ νƒμ  μ•”νΈν™”**

#### **κµ¬ν„ ν•­λ©**
```javascript
β… μ „ν™”λ²νΈ μ•”νΈν™”: ν•λ£¨ λ³΄κ΄€ μ‹ μ•”νΈν™” (μ„ νƒμ )
β… μ ‘κ·Ό μ μ–΄: μ „ν™”λ²νΈ μ ‘κ·Ό μ ν•
β… μλ™ μ‚­μ : 24μ‹κ°„ ν›„ μλ™ μ‚­μ 
```

#### **λΉ„μ©**
- **κµ¬ν„ μ‹κ°„**: μ¶”κ°€ 0.5μΌ
- **AI λ„κµ¬λ΅ κ°€λ¥**: λ„¤
- **μ¶”κ°€ λΉ„μ©**: μ—†μ

---

## π‰ **μµμΆ… λ‹µλ³€**

### **μ μ•: ν•΄μ‹κ°’κ³Ό μ „ν™”λ²νΈλ§ ν•λ£¨ λ³΄κ΄€, μ΄λ¦„κ³Ό μ£Όμ†λ” μ¦‰μ‹ μ‚­μ **

#### **β… λ” μ•μ „ν• μ•„μ΄λ””μ–΄μ…λ‹λ‹¤!**

#### **μ¥μ **
1. **κ°μΈμ •λ³΄ μµμ†ν™”**: μ΄λ¦„, μ£Όμ† μ¦‰μ‹ μ‚­μ 
2. **μ‹¤μ©μ„± ν™•λ³΄**: μ „ν™”λ²νΈ ν•λ£¨ λ³΄κ΄€μΌλ΅ λ°°λ‹¬ ν™•μΈ κ°€λ¥
3. **λ²•μ  μ±…μ„ μ™„ν™”**: κ°μΈμ •λ³΄ μ μ¶ μ±…μ„ λ€ν­ μ™„ν™”
4. **λΉ„μ© μ κ°**: λ³΄μ• λΉ„μ© μ κ°

#### **κµ¬ν„ λ°©λ²•**
1. **ν•΄μ‹κ°’**: μκµ¬ λ³΄κ΄€ (ν¬μΈνΈ κ΄€λ¦¬μ©)
2. **μ „ν™”λ²νΈ**: ν•λ£¨λ§ λ³΄κ΄€ (λ°°λ‹¬ ν™•μΈμ©)
3. **μ΄λ¦„**: μ¦‰μ‹ μ‚­μ 
4. **μ£Όμ†**: μ¦‰μ‹ μ‚­μ 
5. **μλ™ μ‚­μ **: 24μ‹κ°„ ν›„ μλ™ μ‚­μ 

#### **λΉ„μ©**
- **κµ¬ν„ μ‹κ°„**: 1-2μΌ
- **AI λ„κµ¬λ΅ κ°€λ¥**: λ„¤
- **μ¶”κ°€ λΉ„μ©**: μ—†μ

### **κ²°λ΅ :**
**μ΄ λ°©μ‹μ€ κ°μΈμ •λ³΄ μµμ†ν™”μ™€ μ‹¤μ©μ„±μ„ μ™„λ²½ν κ· ν• μ΅μ€ ν›λ¥­ν• μ•„μ΄λ””μ–΄μ…λ‹λ‹¤!**
**μ΄λ¦„κ³Ό μ£Όμ†λ” μ¦‰μ‹ μ‚­μ ν•κ³ , μ „ν™”λ²νΈλ§ ν•λ£¨ λ³΄κ΄€ν•λ©΄ λ°°λ‹¬ ν™•μΈλ„ κ°€λ¥ν•λ©΄μ„ κ°μΈμ •λ³΄ λ³΄νΈλ„ μµλ€ν™”ν•  μ μμµλ‹λ‹¤!**






