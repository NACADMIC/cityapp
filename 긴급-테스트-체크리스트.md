# 🚨 긴급 테스트 체크리스트 (오늘 10명 테스트)

## ✅ 수정 완료 사항

### 1. PostgreSQL async/await 처리 완료
- ✅ 주문 생성 API - 모든 DB 함수에 async/await 추가
- ✅ 쿠폰 검증 API - async/await 추가
- ✅ 쿠폰 생성 API - async/await 추가
- ✅ 사용자 정보 조회 API - async/await 추가
- ✅ getNextOrderNumber - PostgreSQL에 추가

### 2. 회원가입 - 쿠폰 자동 발급
- ✅ 신규 회원 가입 시 10,000원 쿠폰 자동 발급
- ✅ 쿠폰 코드: WELCOME{userId}
- ✅ 최소 주문 금액: 25,000원
- ✅ 유효기간: 90일

### 3. 주문 생성
- ✅ 포인트 사용 검증 및 차감
- ✅ 쿠폰 사용 검증 및 처리
- ✅ 주문번호 자동 생성
- ✅ 포인트 적립 (10%)

### 4. 결제 처리
- ✅ I'mport 결제 연동
- ✅ 결제 검증 API

---

## 🧪 테스트 시나리오 (10명)

### 각 사용자별 테스트 순서:

1. **회원가입**
   - [ ] 전화번호, 이름, 비밀번호 입력
   - [ ] 가입 완료 메시지 확인
   - [ ] 쿠폰 자동 발급 확인 (10,000원)

2. **로그인**
   - [ ] 전화번호, 비밀번호로 로그인
   - [ ] 로그인 성공 확인

3. **주문하기**
   - [ ] 메뉴 선택 (25,000원 이상)
   - [ ] 쿠폰 적용 (WELCOME 쿠폰)
   - [ ] 포인트 사용 (선택)
   - [ ] 주문 완료

4. **결제**
   - [ ] 카드 결제 또는 현금 결제
   - [ ] 결제 완료 확인

5. **데이터 확인**
   - [ ] 주문 내역 확인
   - [ ] 포인트 적립 확인
   - [ ] 쿠폰 사용 확인

---

## ⚠️ 주의사항

1. **최소 주문 금액**: 쿠폰 사용 시 25,000원 이상 필요
2. **쿠폰 코드**: WELCOME{userId} 형식 (예: WELCOME1, WELCOME2)
3. **포인트 적립**: 주문 금액의 10% (쿠폰 할인 전 금액 기준)
4. **데이터 유지**: 재배포 후에도 모든 데이터 유지됨

---

## 🔍 문제 발생 시 확인 사항

1. **회원가입 실패**
   - 전화번호 중복 확인
   - 서버 로그 확인

2. **쿠폰 미발급**
   - 서버 로그에서 "✅ 신규 회원 가입" 메시지 확인
   - 쿠폰 테이블 확인

3. **주문 실패**
   - 포인트 부족 여부 확인
   - 쿠폰 유효성 확인
   - 최소 주문 금액 확인

4. **결제 실패**
   - I'mport 설정 확인
   - 결제 검증 로그 확인

---

## 📊 테스트 결과 기록

| 사용자 | 가입 | 쿠폰발급 | 주문 | 쿠폰사용 | 포인트사용 | 결제 | 포인트적립 | 비고 |
|--------|------|----------|------|----------|------------|------|------------|------|
| 1      |      |          |      |          |            |      |            |      |
| 2      |      |          |      |          |            |      |            |      |
| 3      |      |          |      |          |            |      |            |      |
| 4      |      |          |      |          |            |      |            |      |
| 5      |      |          |      |          |            |      |            |      |
| 6      |      |          |      |          |            |      |            |      |
| 7      |      |          |      |          |            |      |            |      |
| 8      |      |          |      |          |            |      |            |      |
| 9      |      |          |      |          |            |      |            |      |
| 10     |      |          |      |          |            |      |            |      |

---

## ✅ 모든 기능 정상 작동 확인

- [ ] 회원가입
- [ ] 쿠폰 자동 발급
- [ ] 로그인
- [ ] 주문 생성
- [ ] 쿠폰 사용
- [ ] 포인트 사용
- [ ] 포인트 적립
- [ ] 결제 처리
- [ ] 데이터 저장/유지

**모든 항목 체크 완료 시 통과! 🎉**

