# 🚀 서버 배포 가이드 - 내일 시제품 완성을 위해

## 추천: Railway (가장 빠름! ⚡)

### ✅ 장점
- **5분 안에 배포 완료**
- 무료 플랜 (월 500시간)
- 자동 HTTPS
- GitHub 연동으로 자동 배포
- SQLite DB 지원 (데이터 영구 저장)

### 📋 배포 단계

#### 1단계: Railway 가입 및 프로젝트 생성
1. https://railway.app 접속
2. GitHub로 로그인
3. **New Project** → **Deploy from GitHub repo**
4. 저장소 선택

#### 2단계: 환경 변수 설정
Railway 대시보드 → Variables 탭:

```bash
# 필수
PORT=3000
NODE_ENV=production

# 결제 (I'mport 가입 후 발급)
IMP_KEY=your_imp_key
IMP_SECRET=your_imp_secret

# 프린터 (선택)
PRINTER_VENDOR_ID=0x04f9
PRINTER_PRODUCT_ID=0x2042
# 또는
PRINTER_IP=192.168.0.100
PRINTER_PORT=9100
```

#### 3단계: 배포 설정 확인
- **Settings** → **Deploy**:
  - Build Command: `cd backend && npm install`
  - Start Command: `cd backend && node server.js`
  - Port: `3000`

#### 4단계: 도메인 생성
- **Settings** → **Networking**:
  - **Generate Domain** 클릭
  - 예: `cityapp-production.up.railway.app`

#### 5단계: 코드 푸시 (자동 배포)
```bash
git add .
git commit -m "프린터, PG 결제 연동 완료"
git push origin main
```

**완료!** 2-3분 후 자동 배포됩니다.

---

## 대안 1: AWS EC2 (더 안정적, 비용 발생)

### 장점
- 24시간 안정적 운영
- 데이터베이스 영구 저장
- 확장성 좋음

### 단계
1. AWS 계정 생성
2. EC2 인스턴스 생성 (Ubuntu)
3. Node.js 설치
4. PM2로 서버 실행
5. 도메인 연결

**비용**: 월 $10-20 (t2.micro)

---

## 대안 2: VPS (가장 제어 가능)

### 장점
- 완전한 제어
- 프린터 직접 연결 가능
- 데이터 완전 보안

### 추천 서비스
- **Vultr**: 월 $6부터
- **DigitalOcean**: 월 $6부터
- **Linode**: 월 $5부터

---

## 🎯 내일 시제품 완성을 위한 추천

### **Railway 사용 추천!**

이유:
1. ✅ **5분 안에 배포** (가장 빠름)
2. ✅ **무료로 시작** 가능
3. ✅ **자동 HTTPS** (보안)
4. ✅ **GitHub 연동** (자동 배포)
5. ✅ **SQLite 지원** (데이터 영구 저장)

### 배포 후 할 일

1. **I'mport 결제 설정**
   - https://admin.iamport.kr 가입
   - 가맹점 코드 발급
   - Railway 환경 변수에 추가

2. **프린터 설정** (선택)
   - USB 프린터: Vendor/Product ID 설정
   - 네트워크 프린터: IP 주소 설정

3. **도메인 연결** (선택)
   - Railway에서 제공하는 도메인 사용
   - 또는 자신의 도메인 연결

4. **테스트**
   - 회원가입/로그인
   - 주문 생성
   - 결제 테스트
   - 프린터 출력 테스트

---

## 📞 문제 해결

### 배포 실패 시
1. Railway 로그 확인
2. 환경 변수 확인
3. 포트 확인 (3000)

### 결제 오류 시
1. IMP_KEY 확인
2. I'mport 대시보드 확인

### 프린터 오류 시
1. 프린터 라이브러리 설치 확인
2. 환경 변수 확인

---

## 🚀 지금 바로 시작!

```bash
# 1. 코드 푸시
git add .
git commit -m "배포 준비 완료"
git push

# 2. Railway에서 프로젝트 생성
# 3. 환경 변수 설정
# 4. 완료!
```

**내일 시제품 완성 가능합니다!** 💪

