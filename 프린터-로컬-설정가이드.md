# 🖨️ 프린터 로컬 설정 가이드

## Railway에서 로컬 프린터로 인쇄하기

Railway 서버에서 로컬 PC의 프린터로 인쇄하려면 **두 가지 방법**이 있습니다.

---

## 방법 1: Cloudflare Tunnel 사용 (추천)

### 장점
- Railway 서버 그대로 사용
- 데이터베이스도 Railway 사용
- 프린터만 로컬에서 처리

### 단점
- 두 개의 프로그램을 실행해야 함 (프린터 서버 + 터널)
- 터널 URL이 변경될 때마다 Railway 환경 변수 업데이트 필요

### 설정 방법
1. `서버시작.bat` 실행 (프린터 서버 시작)
2. `프린터터널시작.bat` 실행 (터널 시작)
3. 터널 URL 복사 (예: `https://abc123-def456.trycloudflare.com`)
4. Railway 환경 변수 `PRINTER_SERVER_URL`에 설정
5. Railway 재배포

### 동작 방식
```
Railway 서버 → Cloudflare Tunnel → 로컬 프린터 서버 → 프린터
```

---

## 방법 2: 로컬 서버 + Railway PostgreSQL (간단)

### 장점
- 하나의 프로그램만 실행 (서버 + 프린터 함께)
- 터널 설정 불필요
- 프린터 직접 접근

### 단점
- 로컬 PC에서 서버 실행 필요
- 로컬 PC가 꺼지면 서버 중단

### 설정 방법
1. Railway PostgreSQL `DATABASE_URL` 확인
2. `로컬서버-레일웨이DB.bat` 실행
3. DATABASE_URL 입력 (또는 환경 변수로 미리 설정)
4. 서버 시작!

### 동작 방식
```
로컬 서버 (PostgreSQL 연결) → 로컬 프린터
```

### DATABASE_URL 환경 변수 설정 (Windows)
1. 시스템 속성 → 환경 변수
2. 사용자 변수에 `DATABASE_URL` 추가
3. 값: `postgresql://postgres:비밀번호@호스트:포트/railway`
4. 재부팅 또는 새 명령 프롬프트 실행

---

## 방법 3: 완전 로컬 (개발/테스트용)

### 설정 방법
1. `서버설치.bat` 실행
2. `서버시작.bat` 실행 (하지만 이건 프린터 서버만...)
3. 또는 전체 서버 실행 (DATABASE_URL 없이)

---

## 추천 방법

### 실제 매장 운영 시
**방법 1 (터널) 또는 방법 2 (로컬 서버 + Railway DB)**

### 프린터 테스트 시
**방법 2 (로컬 서버 + Railway DB)** - 가장 간단!

---

## 프린터 테스트

1. 서버 시작 후:
   - `http://localhost:3000/pos` 접속
   - 프린터 테스트 메뉴 클릭
   - 또는: `http://localhost:3000/api/printer/test`

2. 프린터 인쇄 확인

